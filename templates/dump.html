{% extends "base.html" %}

{% block head %}
DUMP
{% endblock %}

{% block title %}
DUMP
{% endblock %}

{% block content %}

	<hr>
	<h2>USERS</h2>
	<p>
	{% if users %}
		<table border="1">
			<tr>
				<th align="left">username</th>
				<th align="left">first name</th>
				<th align="left">last name</th>
				<th align="left">email</th>
				<th align="left">group</th>
			</tr>
			{% for u in users %}
				<tr>
					<td align="left">{{ u.username }}</td>
					<td align="left">{{ u.first_name }}</td>
					<td align="left">{{ u.last_name }}</td>
					<td align="left">{{ u.email }}</td>
					<td align="left">
						{% for group in u.groups.all %}
							{{ group.name }}{% if not forloop.last %}, {% else %}{% endif %}
						{% endfor %}

					</td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		no users found
	{% endif %}
	</p>
	
	<hr>
	
	<h2>EXHIBITORS</h2>
	<p>
	{% if exhibitors %}
		<table border="1">
			<tr>
				<th align="left">username</th>
				<th align="left">first name</th>
				<th align="left">last name</th>
				<th align="left">email</th>
				<th align="left">company</th>
				<th align="left">website</th>
				<th align="left">address</th>
				<th align="left">address2</th>
				<th align="left">city</th>
				<th align="left">state</th> 
				<th align="left">phone</th>
				<th align="left">fax</th>
				<th align="left">lines</th>
			</tr>
			{% for e in exhibitors %}
				<tr>
					<td align="left">{{ e.user.username }}</td>
					<td align="left">{{ e.user.first_name }}</td>
					<td align="left">{{ e.user.last_name }}</td>
					<td align="left">{{ e.user.email }}</td>
					<td align="left">{{ e.company }}</td>
					<td align="left">{{ e.website }}</td>
					<td align="left">{{ e.address }}</td>
					<td align="left">{{ e.address2 }}</td>
					<td align="left">{{ e.city }}</td>
					<td align="left">{{ e.state }}</td>
					<td align="left">{{ e.phone }}</td>
					<td align="left">{{ e.fax }}</td>
					<td align="left" style="width: 1px; white-space: nowrap;">{{ e.lines }}</td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		no exhibitors found
	{% endif %}
	</p>
	
	<hr>
	
	<h2>RETAILERS</h2>
	<p>
	{% if retailers %}
		<table border="1">
			<tr>
				<th align="left">username</th>
				<th align="left">first name</th>
				<th align="left">last name</th>
				<th align="left">email</th>
				<th align="left">company</th>
				<th align="left">website</th>
				<th align="left">address</th>
				<th align="left">address2</th>
				<th align="left">city</th>
				<th align="left">state</th> 
				<th align="left">phone</th>
				<th align="left">fax</th>
			</tr>
			{% for r in retailers %}
				<tr>
					<td align="left">{{ r.user.username }}</td>
					<td align="left">{{ r.user.first_name }}</td>
					<td align="left">{{ r.user.last_name }}</td>
					<td align="left">{{ r.user.email }}</td>
					<td align="left">{{ r.company }}</td>
					<td align="left">{{ r.website }}</td>
					<td align="left">{{ r.address }}</td>
					<td align="left">{{ r.address2 }}</td>
					<td align="left">{{ r.city }}</td>
					<td align="left">{{ r.state }}</td>
					<td align="left">{{ r.phone }}</td>
					<td align="left">{{ r.fax }}</td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		no retailers found
	{% endif %}
	</p>
	
	<hr>
	
	<h2>SHOWS</h2>
	<p>
	{% if shows %}
		<table border="1">
			<tr>
				<th align="left">name</th>
				<th align="left">late date</th>
				<th align="left">closed date</th>
				<th align="left">start date</th>
				<th align="left">end date</th>
				<th align="left">exhibitors</th>
				<th align="left">retailers</th>
			</tr>
			{% for s in shows %}
				<tr>
					<td align="left">{{ s.name }}</td>
					<td align="left">{{ s.late_date }}</td>
					<td align="left">{{ s.closed_date }}</td>
					<td align="left">{{ s.start_date }}</td>
					<td align="left">{{ s.end_date }}</td>
					<td align="left">
						{% for exhibitor in s.exhibitors.all %}
							{{ exhibitor.user.username }}{% if not forloop.last %}, {% else %}{% endif %}
						{% endfor %}
					</td>
					<td align="left">
						{% for retailer in s.retailers.all %}
							{{ retailer.user.username }}{% if not forloop.last %}, {% else %}{% endif %}
						{% endfor %}
					</td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		no shows found
	{% endif %}
	</p>
{% endblock %}

{% block footer %}
{% endblock %}
